<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>html学习</title>
      <link href="2021/09/21/html%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/09/21/html%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML学习"><a href="#HTML学习" class="headerlink" title="HTML学习"></a>HTML学习</h1><h2 id="1-W3C标准（万维网联盟）"><a href="#1-W3C标准（万维网联盟）" class="headerlink" title="1 W3C标准（万维网联盟）"></a>1 W3C标准（万维网联盟）</h2><ul><li><p>结构化标准语言（HTML、XML）</p></li><li><p>表现标准语言（CSS）</p></li><li><p>行为标准（DOM、ECMAScript）</p></li></ul><h2 id="2-HTML基本结构"><a href="#2-HTML基本结构" class="headerlink" title="2 HTML基本结构"></a>2 HTML基本结构</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>我的第一个网页<span class="tag">&lt;/<span class="name">title</span>&gt;</span>  <span class="comment">&lt;!--head标签：网页头部--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        我的第一个网页    <span class="comment">&lt;!--body标签：主体部分--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>​    注释符：<!-- --></p><h2 id="3-网页标签"><a href="#3-网页标签" class="headerlink" title="3 网页标签"></a>3 网页标签</h2><h3 id="3-1-标题标签"><a href="#3-1-标题标签" class="headerlink" title="3.1 标题标签"></a>3.1 标题标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>一级标签<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>二级标签<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>三级标签<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>四级标签<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>五级标签<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-2-段落标签"><a href="#3-2-段落标签" class="headerlink" title="3.2 段落标签"></a>3.2 段落标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-3-换行标签"><a href="#3-3-换行标签" class="headerlink" title="3.3 换行标签"></a>3.3 换行标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello World!<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">Hello<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">World<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-4-水平线标签"><a href="#3-4-水平线标签" class="headerlink" title="3.4 水平线标签"></a>3.4 水平线标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">水平线标签<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">Hello<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">World<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-5-字体样式标签"><a href="#3-5-字体样式标签" class="headerlink" title="3.5 字体样式标签"></a>3.5 字体样式标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>粗体标签<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>斜体标签<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-6-特殊符号"><a href="#3-6-特殊符号" class="headerlink" title="3.6 特殊符号"></a>3.6 特殊符号</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">空格写法：空<span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span>格<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">小于号：<span class="symbol">&amp;lt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-7-图像标签"><a href="#3-7-图像标签" class="headerlink" title="3.7 图像标签"></a>3.7 图像标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">格式:<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;path&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;text&quot;</span> <span class="attr">title</span>=<span class="string">&quot;text&quot;</span> <span class="attr">width</span>=<span class="string">&quot;x&quot;</span> <span class="attr">height</span>=<span class="string">&quot;y&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--src:图像地址 alt：图像的替代文字 title：鼠标悬停提示文字--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;resources\images\纸飞机.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;纸飞机&quot;</span> <span class="attr">title</span>=<span class="string">&quot;text&quot;</span> <span class="attr">width</span>=<span class="string">&quot;x&quot;</span> <span class="attr">height</span>=<span class="string">&quot;y&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-8-链接标签"><a href="#3-8-链接标签" class="headerlink" title="3.8 链接标签"></a>3.8 链接标签</h3><h4 id="3-8-1-网页链接"><a href="#3-8-1-网页链接" class="headerlink" title="3.8.1 网页链接"></a>3.8.1 网页链接</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        a标签</span></span><br><span class="line"><span class="comment">        href：必填，跳转至那个页面</span></span><br><span class="line"><span class="comment">        target：表示窗口在那里打开 （_blank：在新标签中打开）</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;第一个网页.html&quot;</span>&gt;</span>点击跳转页面&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;</span>点击跳转到百度页面&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--也可以点击图片跳转--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;第一个网页.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;resources\images\纸飞机.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;纸飞机&quot;</span> <span class="attr">title</span>=<span class="string">&quot;text&quot;</span> <span class="attr">width</span>=<span class="string">&quot;x&quot;</span> <span class="attr">height</span>=<span class="string">&quot;y&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-8-2-锚链接"><a href="#3-8-2-锚链接" class="headerlink" title="3.8.2 锚链接"></a>3.8.2 锚链接</h4><p>​    可用于快速回到顶部或者底部，用作书签目录等等</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--使用name作为标记--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">&quot;top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#top&quot;</span>&gt;</span>点击回到顶部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-8-3-邮件链接"><a href="#3-8-3-邮件链接" class="headerlink" title="3.8.3 邮件链接"></a>3.8.3 邮件链接</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--邮件链接:mailto:--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:1837293264@qq.com&quot;</span>&gt;</span>点击联系我<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-9-列表标签"><a href="#3-9-列表标签" class="headerlink" title="3.9 列表标签"></a>3.9 列表标签</h3><h4 id="3-9-1-有序列表"><a href="#3-9-1-有序列表" class="headerlink" title="3.9.1 有序列表"></a>3.9.1 有序列表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第一个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第三个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-9-2-无序列表"><a href="#3-9-2-无序列表" class="headerlink" title="3.9.2 无序列表"></a>3.9.2 无序列表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第一个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第三个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-9-3自定义列表"><a href="#3-9-3自定义列表" class="headerlink" title="3.9.3自定义列表"></a>3.9.3自定义列表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--自定义列表</span></span><br><span class="line"><span class="comment">dl：标签</span></span><br><span class="line"><span class="comment">dt：列表名称</span></span><br><span class="line"><span class="comment">dd：列表内容</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>课程<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>数学分析<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>高等代数<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>数据结构<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>省份<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>广东<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-10-表格标签"><a href="#3-10-表格标签" class="headerlink" title="3.10 表格标签"></a>3.10 表格标签</h3><p>​    基本结构</p><ul><li><p>单元格</p></li><li><p>行</p></li><li><p>列</p></li><li><p>跨行</p></li><li><p>跨列</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--表格table</span></span><br><span class="line"><span class="comment">        行 tr</span></span><br><span class="line"><span class="comment">        列 td</span></span><br><span class="line"><span class="comment">        跨行 rowspan</span></span><br><span class="line"><span class="comment">        跨列 colspon</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;3&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span>学生成绩<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>朱小七<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>高等数学<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>100<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>软件工程<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>100<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>朱小二<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>高等数学<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>100<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>软件工程<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>100<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="4-行内元素与块元素"><a href="#4-行内元素与块元素" class="headerlink" title="4 行内元素与块元素"></a>4 行内元素与块元素</h2><p>​    行内元素</p><ul><li><p>行内元素可以在一行内排在一起</p></li><li><p>例如<strong> <em> <a>等等</p></li></ul><p>​    块元素</p><ul><li>无论内容多少，独占一行</li><li>例如<p> <h1> <h2>等等</li></ul><h2 id="5-媒体元素"><a href="#5-媒体元素" class="headerlink" title="5 媒体元素"></a>5 媒体元素</h2><p>​    视频元素与音频元素：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        音频与视频</span></span><br><span class="line"><span class="comment">        src：资源路径</span></span><br><span class="line"><span class="comment">        controls：控制条</span></span><br><span class="line"><span class="comment">        autoplay：自动播放</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;video src=&quot;resources\video\精彩瞬间.mp4&quot; controls autoplay width=&quot;1400px&quot; height=&quot;900px&quot;&gt;&lt;/video&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;resources\audio\曾经我也想过一了百了.mp3&quot;</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-页面结构"><a href="#6-页面结构" class="headerlink" title="6 页面结构"></a>6 页面结构</h2><table><thead><tr><th>元素名</th><th>描述</th></tr></thead><tbody><tr><td>header</td><td>标题头部区域的内容（用于页面或页面中的一块区域）</td></tr><tr><td>footer</td><td>标记脚步区域的内容（用于整个页面或页面中的一块区域）</td></tr><tr><td>section</td><td>Web页面中的一块独立区域</td></tr><tr><td>article</td><td>独立的文章内容</td></tr><tr><td>aside</td><td>相关内容或应用（常用于侧边栏）</td></tr><tr><td>nav</td><td>导航栏辅助内容</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span>网页头部<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span>网页主体<span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span>网页脚部<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-1-内联框架"><a href="#6-1-内联框架" class="headerlink" title="6.1 内联框架"></a>6.1 内联框架</h2><p>​    iframe内联框架</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        iframe内联</span></span><br><span class="line"><span class="comment">        src：引用页面地址</span></span><br><span class="line"><span class="comment">        name：框架标识名</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;iframe src=&quot;https://www.bilibili.com/video/BV1x4411V75C?p=11&amp;spm_id_from=pageDriver&quot; width=&quot;1400px&quot; height=&quot;900px&quot;&gt;&lt;/iframe&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">width</span>=<span class="string">&quot;1400px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;900px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.bilibili.com/video/BV1x4411V75C?p=11&amp;spm_id_from=pageDriver&quot;</span> <span class="attr">target</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>点击跳转<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-2-表单"><a href="#6-2-表单" class="headerlink" title="6.2 表单"></a>6.2 表单</h2><h3 id="6-2-1-表单元素"><a href="#6-2-1-表单元素" class="headerlink" title="6.2.1 表单元素"></a>6.2.1 表单元素</h3><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td>指定元素的类型。text、password、checkbox等等，默认为txet</td></tr><tr><td>name</td><td>指定表单元素的名称</td></tr><tr><td>value</td><td>元素的初始值。type为radio时必须指定一个值</td></tr><tr><td>size</td><td>指定表单元素的初始宽度</td></tr><tr><td>maxlength</td><td>type为text或password时，输入的最大字符数</td></tr><tr><td>checked</td><td>type为radio或checkbox时，指定按钮是否被选中</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        表单：</span></span><br><span class="line"><span class="comment">        method：规定如何发送表单数据，一般为get/post</span></span><br><span class="line"><span class="comment">        action：表示向何处发送表单数据</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;表格.html&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            文本输入框：</span></span><br><span class="line"><span class="comment">            input type=&quot;text&quot;</span></span><br><span class="line"><span class="comment">            value：默认初始值</span></span><br><span class="line"><span class="comment">            size：文本框的长度</span></span><br><span class="line"><span class="comment">            placeholder：提示</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>名字：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            密码框：</span></span><br><span class="line"><span class="comment">            input type=&quot;password&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            单选框：</span></span><br><span class="line"><span class="comment">            input type=&quot;radio&quot;</span></span><br><span class="line"><span class="comment">            value：单选框的值</span></span><br><span class="line"><span class="comment">            name：表示分组</span></span><br><span class="line"><span class="comment">            checked：默认</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            性别：</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;boy&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">checked</span>/&gt;</span>男</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;gril&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span>/&gt;</span>女</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            多选框：</span></span><br><span class="line"><span class="comment">            input type=&quot;checkbox&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            爱好：</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sport&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span>运动</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;game&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span>游戏</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dance&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span>跳舞</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sing&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span>唱歌</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            按钮：</span></span><br><span class="line"><span class="comment">            input type=&quot;button&quot; 普通按钮</span></span><br><span class="line"><span class="comment">            input type=&quot;submit&quot; 提交按钮</span></span><br><span class="line"><span class="comment">            input type=&quot;reset&quot; 重置按钮</span></span><br><span class="line"><span class="comment">            input type=&quot;image&quot; 图片按钮</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点击&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../resources\images\纸飞机.png&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            文件域：</span></span><br><span class="line"><span class="comment">            input type=&quot;file&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;files&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;上传&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            邮箱验证：</span></span><br><span class="line"><span class="comment">            input type=&quot;emial&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            邮箱：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            url：</span></span><br><span class="line"><span class="comment">            input type=&quot;url&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            网址：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            数字验证：</span></span><br><span class="line"><span class="comment">            input type=&quot;number&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            数量：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;number&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">step</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            滑块：</span></span><br><span class="line"><span class="comment">            input type=&quot;range&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            音量：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;voice&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">step</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            搜索框：</span></span><br><span class="line"><span class="comment">            input type=&quot;search&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            搜索：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">name</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            下拉框：</span></span><br><span class="line"><span class="comment">            select name=&quot;&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            国家：</span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;列表名称&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;China&quot;</span> <span class="attr">checked</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;usa&quot;</span>&gt;</span>美国<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;britain&quot;</span>&gt;</span>英国<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;France&quot;</span>&gt;</span>法国<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            文本域：</span></span><br><span class="line"><span class="comment">            textarea</span></span><br><span class="line"><span class="comment">            cols,rows：文本框长宽</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            反馈：</span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;50&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span>文本内容<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-2-2-表单应用"><a href="#6-2-2-表单应用" class="headerlink" title="6.2.2 表单应用"></a>6.2.2 表单应用</h3><ul><li>隐藏</li><li>只读</li><li>禁用</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;表格.html&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        只读：</span></span><br><span class="line"><span class="comment">        readonly</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>名字：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;admin&quot;</span> <span class="attr">readonly</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            隐藏：</span></span><br><span class="line"><span class="comment">            hidden</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">hidden</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            禁用：</span></span><br><span class="line"><span class="comment">            disabled</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            性别：</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;boy&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">checked</span>/&gt;</span>男</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;gril&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">disabled</span>/&gt;</span>女</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            增强鼠标使用性，点击文字跳到框</span></span><br><span class="line"><span class="comment">            label for=&quot;mark&quot;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;mark&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mark&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-2-3-表单初级验证"><a href="#6-2-3-表单初级验证" class="headerlink" title="6.2.3 表单初级验证"></a>6.2.3 表单初级验证</h3><ul><li><p>提示信息：placeholder</p></li><li><p>非空判断：required</p></li><li><p>正则表达式：pattern</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;表格.html&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            placeholder：提示信息</span></span><br><span class="line"><span class="comment">            required：非空判断</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>名字：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span> <span class="attr">required</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            正则表达式：</span></span><br><span class="line"><span class="comment">            pattern</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            自定义邮箱：</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;diyemail&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)$/&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC数据库开发入门</title>
      <link href="2021/04/10/JDBC%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/"/>
      <url>2021/04/10/JDBC%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="JDBC简介"><a href="#JDBC简介" class="headerlink" title="JDBC简介"></a>JDBC简介</h2><p>JDBC指Java数据库连接，是一种标准Java应用编程接口（JAVA API），用来连接Java语言和广泛数据库。</p><h2 id="JDBC对象介绍"><a href="#JDBC对象介绍" class="headerlink" title="JDBC对象介绍"></a>JDBC对象介绍</h2><p>1.Drivermanager</p><ul><li>注册驱动：Class.forName(driverClassName);</li><li>获取Connection</li></ul><p>2.Connection</p><ul><li>最重要的方法是获取Statement</li></ul><p>3.Statement</p><p>Statement最为重要的方法是：</p><ul><li>int executeUpdate(String(sql))：执行更新操作，即执行insert,update,delete操作，也可以执行create table、alter table和drop table等操作</li><li>Resultset executeQuery(String sql)：执行查询操作</li></ul><p>如果使用execute()方法更新语句，可用int getUpdateCount()来获取insert,update,delete语句影响的行数</p><p>如果使用execute()方法更新语句，可用ResultSet getResultSet()来获取select语句查询结果</p><p>4.ResultSet</p><p>ResultSet表示结果集，它是一个二维的表格</p><p>获取结果集元数据：</p><ul><li>得到元数据：rs.getMetaData()，返回值为ResultSetMetaData；</li><li>获取结果集列数：int getColumnCount()</li><li>获取指定列列名：String getColumnName(int colIndex)</li></ul><h2 id="JDBC连接SQL-Server"><a href="#JDBC连接SQL-Server" class="headerlink" title="JDBC连接SQL Server"></a>JDBC连接SQL Server</h2><p>Ⅰ.官网下载Microsoft SQL Server JDBC 驱动程序 <a href="https://docs.microsoft.com/zh-cn/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-2017%EF%BC%8C">https://docs.microsoft.com/zh-cn/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-2017，</a> (<strong>安装路径最好全英</strong>)</p><p>Ⅱ.解压打开文件夹可以找到三个jar文件，找到相对应版本的jar包，复制路径</p><p>Ⅲ.配置环境变量</p><p><img src="https://i.loli.net/2021/04/04/bHqz5En4aOkgeTV.png" alt="image-20210404231329409"></p><p>Ⅳ.打开SQL server配置管理器，启用TCP/IP协议，双击修改IP1和IP10的IP地址为127.0.0.1</p><p><img src="https://i.loli.net/2021/04/04/6sk5PMijmRTqelZ.png" alt="image-20210404232240401"></p><p>Ⅴ.启动控制面板，勾选Telnet客户端</p><p><img src="https://i.loli.net/2021/04/04/UhdKoFR5suYzGeB.png" alt="image-20210404154633013"></p><p>Ⅵ.测试；打开cmd，输入telnet 127.0.0.1 1433，得到以下页面即为1433端口打开成功</p><p><img src="https://i.loli.net/2021/04/04/18NS97CdQcwVLZ5.png" alt="image-20210404232412112"></p><p>若提示连接失败，打开SQL Server配置管理器重启服务器</p><p><img src="https://i.loli.net/2021/04/09/6nPgyE3TWH1Cbcu.png" alt="image-20210409213730600"></p><p>Ⅶ.打开IDEA</p><p>打开项目结构</p><p><img src="https://i.loli.net/2021/04/09/iYlX8uDc1NLqJya.png" alt="image-20210409234036059"></p><p><img src="https://i.loli.net/2021/04/09/YjsEZuqRVvwUObK.png" alt="image-20210409234500243"></p><p>添加之前下载的jar包</p><p><img src="https://i.loli.net/2021/04/09/7SkN38s6Ag4GJWU.png" alt="image-20210409234714435"></p><p>Ⅷ.新建文件Connect.java</p><p>1.准备四大参数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;<span class="comment">//JDBC协议的格式</span></span><br><span class="line">String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">String password = <span class="string">&quot;123&quot;</span>;</span><br></pre></td></tr></table></figure><p>2.加载驱动类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(driverClassName);</span><br></pre></td></tr></table></figure><p>3.通过剩下的三个参数调用DriverManager的getConnection(),得到Connection</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection con = DriverManager.getConnection(url,username,password);</span><br></pre></td></tr></table></figure><p>4.完整代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Connect</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> ClassNotFoundException,SQLException</span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *JDBC四大参数</span></span><br><span class="line"><span class="comment">         * &gt;driverClassName:com.microsoft.sqlserver.jdbc.SQLServerDriver</span></span><br><span class="line"><span class="comment">         * &gt;url:jdbc:sqlserver://localhost:1433;DatabaseName=JXGL</span></span><br><span class="line"><span class="comment">         * &gt;username:sa</span></span><br><span class="line"><span class="comment">         * &gt;password:123</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;<span class="comment">//JDBC协议的格式</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        Connection con = DriverManager.getConnection(url,username,password);</span><br><span class="line">        </span><br><span class="line">        System.out.println(con);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Alt+F12打开终端</p><p>编译运行</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:\Code\JAVA\JXGL&gt;javac Connect.java</span><br><span class="line"></span><br><span class="line">D:\Code\JAVA\JXGL&gt;java Connect</span><br></pre></td></tr></table></figure><p>出现ConnectionID:和ClientConnectionId</p><p>即成功连上数据库</p><h2 id="JDBC进行增删改"><a href="#JDBC进行增删改" class="headerlink" title="JDBC进行增删改"></a>JDBC进行增删改</h2><p>通过JDBC创建一个STU表，表中包含学号，姓名，年龄，设置学号为主键</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Text</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *连接数据库，得到Connection就算成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> ClassNotFoundException,SQLException </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *一、得到Connection</span></span><br><span class="line"><span class="comment">         * 1.准备四大参数</span></span><br><span class="line"><span class="comment">         * 2.加载驱动类</span></span><br><span class="line"><span class="comment">         * 3.得到Connection</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;<span class="comment">//JDBC协议的格式</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        Connection con = DriverManager.getConnection(url,username,password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *二、对数据库的增删改</span></span><br><span class="line"><span class="comment">         * 1.通过Connection对象创建Statement</span></span><br><span class="line"><span class="comment">         * &gt;Statement语句的发送器，它的功能是向数据库发送SQL语句！</span></span><br><span class="line"><span class="comment">         * 2.调用它的int executeUpdate(String sql)，他可以发送DML，DDL</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过Connection对象创建Statement</span></span><br><span class="line">        Statement stmt = con.createStatement();</span><br><span class="line">        <span class="comment">//通过Statement发送sql语句</span></span><br><span class="line">        String sql = <span class="string">&quot;CREATE TABLE STU(SNO char(3) PRIMARY KEY,SNAME varchar(10),AGE int)&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> r = stmt.executeUpdate(sql);</span><br><span class="line">        System.out.println(r);<span class="comment">//r为改变的行数</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 关闭资源</span></span><br><span class="line"><span class="comment">         * 倒关，先用的后关，后用的先关</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        stmt.close();</span><br><span class="line">        con.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">D:\Code\JAVA\JXGL&gt;javac Text.java</span><br><span class="line"></span><br><span class="line">D:\Code\JAVA\JXGL&gt;java Text</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>在STU表中加入一行数据 学号：001 姓名：Super 年龄：18</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Text</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *连接数据库，得到Connection就算成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> ClassNotFoundException,SQLException </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *一、得到Connection</span></span><br><span class="line"><span class="comment">         * 1.准备四大参数</span></span><br><span class="line"><span class="comment">         * 2.加载驱动类</span></span><br><span class="line"><span class="comment">         * 3.得到Connection</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;<span class="comment">//JDBC协议的格式</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        Connection con = DriverManager.getConnection(url,username,password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *二、对数据库的增删改</span></span><br><span class="line"><span class="comment">         * 1.通过Connection对象创建Statement</span></span><br><span class="line"><span class="comment">         * &gt;Statement语句的发送器，它的功能是向数据库发送SQL语句！</span></span><br><span class="line"><span class="comment">         * 2.调用它的int executeUpdate(String sql)，他可以发送DML，DDL</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过Connection对象创建Statement</span></span><br><span class="line">        Statement stmt = con.createStatement();</span><br><span class="line">        <span class="comment">//通过Statement发送sql语句</span></span><br><span class="line">        String sql = <span class="string">&quot;INSERT INTO STU(SNO,SNAME,AGE) VALUES(&#x27;001&#x27;,&#x27;SuPer&#x27;,18)&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> r = stmt.executeUpdate(sql);</span><br><span class="line">        System.out.println(r);<span class="comment">//r为改变的行数</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 关闭资源</span></span><br><span class="line"><span class="comment">         * 倒关，先用的后关，后用的先关</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        stmt.close();</span><br><span class="line">        con.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">D:\Code\JAVA\JXGL&gt;javac -encoding UTF-8 Text.java</span><br><span class="line"></span><br><span class="line">D:\Code\JAVA\JXGL&gt;java Text</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>Win+R打开sqlcmd</p><p><img src="https://i.loli.net/2021/04/10/i8JRLkDrbVoyUt3.png" alt="image-20210410002158057"></p><h2 id="JDBC查询数据库"><a href="#JDBC查询数据库" class="headerlink" title="JDBC查询数据库"></a>JDBC查询数据库</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Select</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 一、得到Connection</span></span><br><span class="line"><span class="comment">     * 二、得到Statement</span></span><br><span class="line"><span class="comment">     * 三、对查询返回的“表格”进行解析</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> ClassNotFoundException,SQLException </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *一、得到Connection</span></span><br><span class="line"><span class="comment">         * 1.准备四大参数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;<span class="comment">//JDBC协议的格式</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 2.加载驱动类</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *3.通过剩下的三个参数调用DriverManager的getConnection(),得到Connection</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Connection con = DriverManager.getConnection(url,username,password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 二、得到Statement，执行select语句</span></span><br><span class="line"><span class="comment">         * 1.调用Statement对象：Connection的createStatement()方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Statement stmt = con.createStatement();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *2.调用Statement的ResultSet rs = executeQuery(String querySql)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        ResultSet rs = stmt.executeQuery(<span class="string">&quot;SELECT * FROM STU&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *三、解析ResultSet</span></span><br><span class="line"><span class="comment">         * 1.把光标移动到第一行，可以调用next()方法完成！</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">while</span>(rs.next())&#123;   <span class="comment">//把光标向下一行移动，并判断下一行是否存在</span></span><br><span class="line">            String SNO = rs.getString(<span class="string">&quot;SNO&quot;</span>); <span class="comment">//通过列名称来获取该列的值</span></span><br><span class="line">            String SNAME = rs.getString(<span class="string">&quot;SNAME&quot;</span>); <span class="comment">//通过列名称来获取该列的值</span></span><br><span class="line">            <span class="keyword">int</span> AGE = rs.getInt(<span class="number">1</span>);<span class="comment">//通过列名称来获取该列的值</span></span><br><span class="line">            System.out.println(SNO+<span class="string">&quot;,&quot;</span>+SNAME+<span class="string">&quot;,&quot;</span>+AGE);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 四、关闭资源</span></span><br><span class="line"><span class="comment">         * 倒关，先用的后关，后用的先关</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        rs.close();</span><br><span class="line">        stmt.close();</span><br><span class="line">        con.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/10/DBZ5K9iWb48Vjrk.png" alt="image-20210410002706935"></p><h2 id="JDBC代码规范化"><a href="#JDBC代码规范化" class="headerlink" title="JDBC代码规范化"></a>JDBC代码规范化</h2><p>无论是否出现异常，都要关闭ResultSet、Statement，以及Connection.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Text2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Connection con = <span class="keyword">null</span>;</span><br><span class="line">        Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;<span class="comment">//定义使用</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * 一、得到Connection</span></span><br><span class="line"><span class="comment">             * 1.得到四大参数</span></span><br><span class="line"><span class="comment">             * 2.加载驱动类</span></span><br><span class="line"><span class="comment">             * 3.得到Connection</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;</span><br><span class="line">            String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">            String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">            String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//加载驱动类</span></span><br><span class="line">            Class.forName(driverClassName);</span><br><span class="line">            con = DriverManager.getConnection(url, username, password);<span class="comment">//实例化</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             *二、创建Statement</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            stmt = con.createStatement();</span><br><span class="line">            String sql = <span class="string">&quot;Select * From STU&quot;</span>;</span><br><span class="line">            rs = stmt.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             *三、循环遍历rs，打印其中数据</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="number">1</span>)+<span class="string">&quot; &quot;</span>+rs.getString(<span class="number">2</span>)+<span class="string">&quot; &quot;</span>+rs.getInt(<span class="number">3</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="comment">//关闭</span></span><br><span class="line">            <span class="keyword">if</span>(rs!=<span class="keyword">null</span>) rs.close();</span><br><span class="line">            <span class="keyword">if</span>(stmt!=<span class="keyword">null</span>) stmt.close();</span><br><span class="line">            <span class="keyword">if</span>(con!=<span class="keyword">null</span>) con.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/10/ix6QnXIrLFKV1aG.png" alt="image-20210410200315322"></p><h2 id="结束集光标与元数据"><a href="#结束集光标与元数据" class="headerlink" title="结束集光标与元数据"></a>结束集光标与元数据</h2><p>获取结果集元数据：</p><ul><li>得到元数据：rs.getMetaData()，返回值为ResultSetMetaData；</li><li>获取结果集列数：int getColumnCount()</li><li>获取指定列列名：String getColumnName(int colIndex)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="number">1</span>)+<span class="string">&quot; &quot;</span>+rs.getString(<span class="number">2</span>)+<span class="string">&quot; &quot;</span>+rs.getInt(<span class="number">3</span>));</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>当结果集不知道行列数时，优化↓</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = rs.getMetaData().getColumnCount();</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">    <span class="comment">//遍历行</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=count;i++)&#123;</span><br><span class="line">        <span class="comment">//遍历列</span></span><br><span class="line">        System.out.print(rs.getString(i));</span><br><span class="line">        <span class="keyword">if</span>(i&lt;count)</span><br><span class="line">            System.out.print(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>查询STU中的全部数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Text3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Connection con = <span class="keyword">null</span>;</span><br><span class="line">        Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;<span class="comment">//定义使用</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * 一、得到Connection</span></span><br><span class="line"><span class="comment">             * 1.得到四大参数</span></span><br><span class="line"><span class="comment">             * 2.加载驱动类</span></span><br><span class="line"><span class="comment">             * 3.得到Connection</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;</span><br><span class="line">            String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">            String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">            String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//加载驱动类</span></span><br><span class="line">            Class.forName(driverClassName);</span><br><span class="line">            con = DriverManager.getConnection(url, username, password);<span class="comment">//实例化</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             *二、创建Statement</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            stmt = con.createStatement();</span><br><span class="line">            String sql = <span class="string">&quot;Select * From STU&quot;</span>;</span><br><span class="line">            rs = stmt.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             *三、循环遍历rs，打印其中数据</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">int</span> count = rs.getMetaData().getColumnCount();</span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                <span class="comment">//遍历行</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=count;i++)&#123;</span><br><span class="line">                    <span class="comment">//遍历列</span></span><br><span class="line">                    System.out.print(rs.getString(i));</span><br><span class="line">                    <span class="keyword">if</span>(i&lt;count)</span><br><span class="line">                        System.out.print(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="comment">//关闭</span></span><br><span class="line">            <span class="keyword">if</span>(rs!=<span class="keyword">null</span>) rs.close();</span><br><span class="line">            <span class="keyword">if</span>(stmt!=<span class="keyword">null</span>) stmt.close();</span><br><span class="line">            <span class="keyword">if</span>(con!=<span class="keyword">null</span>) con.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/10/LtGBO9fpFPbrqH8.png" alt="image-20210410215041704"></p><h2 id="用户名密码登录数据库"><a href="#用户名密码登录数据库" class="headerlink" title="用户名密码登录数据库"></a>用户名密码登录数据库</h2><p>1.创建用户名密码表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Login</span><br><span class="line">(</span><br><span class="line">&quot;user&quot; <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">passwd <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>2.存入数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Login(&quot;user&quot;,passwd)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;SuPer&#x27;</span>,<span class="string">&#x27;123&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;123&#x27;</span>)</span><br></pre></td></tr></table></figure><p>3.查询Login表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Login</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/10/icdKZsWoq4lN3CO.png" alt="image-20210410232229928"></p><p>4.JDBC验证</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 登录</span></span><br><span class="line"><span class="comment">     * 使用username和password查询数据</span></span><br><span class="line"><span class="comment">     * 若查出结果集，说明正确，返回ture</span></span><br><span class="line"><span class="comment">     * 若查不出结果，用户名或密码错误，返回false</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">log</span><span class="params">(String user,String passwd)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Connection con = <span class="keyword">null</span>;</span><br><span class="line">        Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;<span class="comment">//定义使用</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 一、得到Connection</span></span><br><span class="line"><span class="comment">         * 1.得到四大参数</span></span><br><span class="line"><span class="comment">         * 2.加载驱动类</span></span><br><span class="line"><span class="comment">         * 3.得到Connection</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;</span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        con = DriverManager.getConnection(url, username, password);<span class="comment">//实例化</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *二、创建Statement</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        stmt = con.createStatement();</span><br><span class="line">        String sql = <span class="string">&quot;SELECT * FROM Login WHERE \&quot;user\&quot; = &#x27;&quot;</span>+user+<span class="string">&quot;&#x27; AND passwd = &#x27;&quot;</span>+passwd+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">        <span class="comment">//  \&quot;\&quot;防止引号提前闭合导致报错，user在SQL Server中属于关键字，需要加上引号&quot;&quot;，后面use和passwd时常量，加上&quot;+ +&quot;,&quot;+ +&quot;</span></span><br><span class="line">        rs = stmt.executeQuery(sql);</span><br><span class="line">        System.out.println(sql);</span><br><span class="line">        <span class="keyword">return</span> rs.next();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        String user = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">        <span class="comment">//String passwd = &quot;123&quot;;</span></span><br><span class="line">        String passwd = <span class="string">&quot;1234&quot;</span>;</span><br><span class="line">        <span class="keyword">boolean</span> bool = log(user,passwd);</span><br><span class="line">        System.out.println(bool);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/11/NE4hoiwnCrtdFB5.png" alt="image-20210411002149040"></p><p><img src="https://i.loli.net/2021/04/11/ONiebHAwp6Qukzd.png" alt="image-20210411002240185"></p><h2 id="SQL攻击"><a href="#SQL攻击" class="headerlink" title="SQL攻击"></a>SQL攻击</h2><p>若将上述user和passwd改成“a” or ‘a’ = ‘a’”，结果如何？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 登录</span></span><br><span class="line"><span class="comment">     * 使用username和password查询数据</span></span><br><span class="line"><span class="comment">     * 若查出结果集，说明正确，返回ture</span></span><br><span class="line"><span class="comment">     * 若查不出结果，用户名或密码错误，返回false</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">log</span><span class="params">(String user,String passwd)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Connection con = <span class="keyword">null</span>;</span><br><span class="line">        Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;<span class="comment">//定义使用</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 一、得到Connection</span></span><br><span class="line"><span class="comment">         * 1.得到四大参数</span></span><br><span class="line"><span class="comment">         * 2.加载驱动类</span></span><br><span class="line"><span class="comment">         * 3.得到Connection</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;</span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=JXGL&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        con = DriverManager.getConnection(url, username, password);<span class="comment">//实例化</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *二、创建Statement</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        stmt = con.createStatement();</span><br><span class="line">        String sql = <span class="string">&quot;SELECT * FROM Login WHERE \&quot;user\&quot; = &#x27;&quot;</span>+user+<span class="string">&quot;&#x27; AND passwd = &#x27;&quot;</span>+passwd+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">        <span class="comment">//  \&quot;\&quot;防止引号提前闭合导致报错，user在SQL Server中属于关键字，需要加上引号&quot;&quot;，后面use和passwd时常量，加上&quot;+ +&quot;,&quot;+ +&quot;</span></span><br><span class="line">        rs = stmt.executeQuery(sql);</span><br><span class="line">        System.out.println(sql);</span><br><span class="line">        <span class="keyword">return</span> rs.next();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//String user = &quot;zhangsan&quot;;</span></span><br><span class="line">        <span class="comment">//String passwd = &quot;123&quot;;</span></span><br><span class="line">        <span class="comment">//String passwd = &quot;1234&quot;;</span></span><br><span class="line">        String user = <span class="string">&quot;a&#x27; or &#x27;a&#x27; = &#x27;a&quot;</span>;</span><br><span class="line">        String passwd = <span class="string">&quot;a&#x27; or &#x27;a&#x27; = &#x27;a&quot;</span>;</span><br><span class="line">        <span class="keyword">boolean</span> bool = log(user,passwd);</span><br><span class="line">        System.out.println(bool);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/11/wj7E1LuxIAXc2Ft.png" alt="image-20210411093910496"></p><p>然后复制sql语句运行以下</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Login <span class="keyword">WHERE</span> &quot;user&quot; <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;a&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span> <span class="keyword">AND</span> passwd <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;a&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/11/cuDhROHVrgbq7l4.png" alt="image-20210411094127230"></p><h2 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h2><p>1.它是Statement接口的子接口</p><p>2.作用：</p><ul><li>防止SQL攻击</li><li>提高代码的可读性，可维护性</li><li>提高效率</li></ul><p>3.学习PerparedStatement的用法</p><p>   如何得到PreparedStatement对象：</p><ul><li>给出SQL模板；</li><li>调用Connection的PerparedStatement prepareStatement(String sql)；</li><li>调用pstmt的setXxx()系列方法sql模板中的**?**赋值</li><li>调用pstmt的executeUpdate()或exectuteQuery()，但它的方法没有参数</li></ul><p>我们先来验证以下是否可行，user = ‘zhangsan’,passwd = ‘123’</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">log</span><span class="params">(String user,String passwd)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//四大参数</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;</span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=jxgl&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        Connection con = DriverManager.getConnection(url,username,password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 一、得到PrepareStatement</span></span><br><span class="line"><span class="comment">         * 1.给出SQL模板，所有参数用？表示</span></span><br><span class="line"><span class="comment">         * 调用Connection方法，得到PrepareStatement</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String sql = <span class="string">&quot;SELECT * FROM Login WHERE \&quot;user\&quot; = ? AND passwd = ?&quot;</span>;</span><br><span class="line">        PreparedStatement pstmt = con.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 二、为参数赋值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        pstmt.setString(<span class="number">1</span>,user);<span class="comment">//给第一个问好赋值</span></span><br><span class="line">        pstmt.setString(<span class="number">2</span>,passwd);<span class="comment">//给第二个问号赋值</span></span><br><span class="line"></span><br><span class="line">        ResultSet rs = pstmt.executeQuery();<span class="comment">//调用查询方法，向数据库发送查询语句</span></span><br><span class="line">        <span class="keyword">return</span> rs.next();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String user = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">        String passwd = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        <span class="comment">//String passwd = &quot;1234&quot;;</span></span><br><span class="line">        <span class="comment">//String user = &quot;a&#x27; or &#x27;a&#x27; = &#x27;a&quot;;</span></span><br><span class="line">        <span class="comment">//String passwd = &quot;a&#x27; or &#x27;a&#x27; = &#x27;a&quot;;</span></span><br><span class="line">        <span class="keyword">boolean</span> bool = log(user, passwd);</span><br><span class="line">        System.out.println(bool);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/11/JsS7PZVh89YlN5p.png" alt="image-20210411184904984">可行！我们再来试试”user” = ‘a’ or ‘a’ = ‘a’ AND passwd = ‘a’ or ‘a’ = ‘a’</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">log</span><span class="params">(String user,String passwd)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//四大参数</span></span><br><span class="line">        String driverClassName = <span class="string">&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</span>;</span><br><span class="line">        String url = <span class="string">&quot;jdbc:sqlserver://localhost:1433;DatabaseName=jxgl&quot;</span>;</span><br><span class="line">        String username = <span class="string">&quot;sa&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        Connection con = DriverManager.getConnection(url,username,password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 一、得到PrepareStatement</span></span><br><span class="line"><span class="comment">         * 1.给出SQL模板，所有参数用？表示</span></span><br><span class="line"><span class="comment">         * 调用Connection方法，得到PrepareStatement</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String sql = <span class="string">&quot;SELECT * FROM Login WHERE \&quot;user\&quot; = ? AND passwd = ?&quot;</span>;</span><br><span class="line">        PreparedStatement pstmt = con.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 二、为参数赋值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        pstmt.setString(<span class="number">1</span>,user);<span class="comment">//给第一个问好赋值</span></span><br><span class="line">        pstmt.setString(<span class="number">2</span>,passwd);<span class="comment">//给第二个问号赋值</span></span><br><span class="line"></span><br><span class="line">        ResultSet rs = pstmt.executeQuery();<span class="comment">//调用查询方法，向数据库发送查询语句</span></span><br><span class="line">        <span class="keyword">return</span> rs.next();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//String user = &quot;zhangsan&quot;;</span></span><br><span class="line">        <span class="comment">//String passwd = &quot;123&quot;;</span></span><br><span class="line">        <span class="comment">//String passwd = &quot;1234&quot;;</span></span><br><span class="line">        String user = <span class="string">&quot;a&#x27; or &#x27;a&#x27; = &#x27;a&quot;</span>;</span><br><span class="line">        String passwd = <span class="string">&quot;a&#x27; or &#x27;a&#x27; = &#x27;a&quot;</span>;</span><br><span class="line">        <span class="keyword">boolean</span> bool = log(user, passwd);</span><br><span class="line">        System.out.println(bool);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/04/11/FdVRB4tgLlqhI7X.png" alt="image-20210411185010669"></p><p>输出false！</p><h2 id="JDBCUtils工具类"><a href="#JDBCUtils工具类" class="headerlink" title="JDBCUtils工具类"></a>JDBCUtils工具类</h2><p>1.新建dbconfig.properties</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driverClassName = com.microsoft.sqlserver.jdbc.SQLServerDriver</span><br><span class="line">url = jdbc:sqlserver:<span class="comment">//localhost:1433;DatabaseName=JXGL</span></span><br><span class="line">username = sa</span><br><span class="line">password = <span class="number">123</span></span><br></pre></td></tr></table></figure><p>新建JDBCUtils.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> IOException,ClassNotFoundException,SQLException</span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.加载配置文件</span></span><br><span class="line"><span class="comment">         * 2.加载驱动类</span></span><br><span class="line"><span class="comment">         * 3.调用DriverManager.getConnection()</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//配置文件</span></span><br><span class="line">        InputStream in = JDBCUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;dbconfig.properties&quot;</span>);</span><br><span class="line">        Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">        props.load(in);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        Class.forName(props.getProperty(<span class="string">&quot;driverClassName&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//得到Connection</span></span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(props.getProperty(<span class="string">&quot;url&quot;</span>),props.getProperty(<span class="string">&quot;username&quot;</span>),props.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试JDBCUtils.getConnection()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Connect1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException,ClassNotFoundException,SQLException</span>&#123;</span><br><span class="line">        Connection con = JDBCUtils.getConnection();</span><br><span class="line">        System.out.println(con);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>优化，无需执行两次，只在JDBCUtils类被加载时执行一次</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Properties props = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//只在JDBCUtils类被加载时执行一次</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">//给props进行初始化，即加载dbconfig.properties文件到props对象中</span></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//配置文件</span></span><br><span class="line">            InputStream in = JDBCUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;dbconfig.properties&quot;</span>);</span><br><span class="line">            props = <span class="keyword">new</span> Properties();</span><br><span class="line">            props.load(in);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);<span class="comment">//异常处理</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加载驱动类</span></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Class.forName(props.getProperty(<span class="string">&quot;driverClassName&quot;</span>));</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取连接！</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        <span class="comment">//得到Connection</span></span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(props.getProperty(<span class="string">&quot;url&quot;</span>),props.getProperty(<span class="string">&quot;username&quot;</span>),props.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试JDBCUtils.getConnection()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Connect1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        Connection con = JDBCUtils.getConnection();</span><br><span class="line">        System.out.println(con);</span><br><span class="line">        Connection con1 = JDBCUtils.getConnection();</span><br><span class="line">        System.out.println(con1);<span class="comment">//无需执行两次</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> SQL Server </tag>
            
            <tag> JDBC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>索引</title>
      <link href="2021/04/06/%E7%B4%A2%E5%BC%95/"/>
      <url>2021/04/06/%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<h2 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h2><h3 id="1-聚集索引和非聚集索引"><a href="#1-聚集索引和非聚集索引" class="headerlink" title="1.聚集索引和非聚集索引"></a>1.聚集索引和非聚集索引</h3><p>聚集索引会对基本表进行物理排序，所以这种索引对查询非常有效，<strong>在每一张基本表中只能有一个聚集索引</strong>。当建立主键约束时，如果基本表中没有聚集索引，SQL Server会用主键列作聚集索引键。</p><p>非聚集索引不会对基本表进行物理排序。如果表中不存在聚集索引，则基本表中是不排序的。</p><h3 id="2-唯一索引和非唯一索引"><a href="#2-唯一索引和非唯一索引" class="headerlink" title="2.唯一索引和非唯一索引"></a>2.唯一索引和非唯一索引</h3><p>唯一索引确保在被索引的列中，所有数据是唯一的，不包含重复值。如果表具有PRIMARY KEY约束或UNIQUE约束，那么执行CREATE TABLE语句或ALTER TABLE语句时，SQL Server会自动创建唯一索引。</p><p>非唯一索引允许所保存的列中出现重复值，所以在数据操作时，非唯一索引会比唯一索引带来更大的开销。</p><h3 id="3-简单索引和复合索引"><a href="#3-简单索引和复合索引" class="headerlink" title="3.简单索引和复合索引"></a>3.简单索引和复合索引</h3><p>只针对基本表的一列建立的索引，称为简单索引；</p><p>针对多个列(最多为16列)建立的索引成为复合索引或组合索引</p><h2 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h2><p>语句格式</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">UNIQUE</span>][CLUSTERED<span class="operator">|</span>NONCLUSTERED] INDEX <span class="operator">&lt;</span>索引名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">ON</span> <span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span>(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>[<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>][, ... n])</span><br><span class="line">[</span><br><span class="line"><span class="keyword">WITH</span> PAD_INDEX</span><br><span class="line">[[,]FILLFACTOR <span class="operator">=</span> <span class="operator">&lt;</span>填充因子<span class="operator">&gt;</span>]</span><br><span class="line">[,INGORE_DUP_KEY]</span><br><span class="line">[[,DROP_EXISTING]]</span><br><span class="line">... ]</span><br></pre></td></tr></table></figure><p>UNIQUE——指定创建的索引为唯一索引，省略则为非唯一索引</p><p>CLUSTERED|NONCLUSTERED——用于指定创建的索引为聚集索引或非聚集索引。省略则默认非聚集索引</p><p>ASC|DESC——用于指定索引列升序或降序，默认ASC</p><p>PAD_INDEX——指定索引填充，取值为ON|OFF，默认OFF。PAD_INDEX选项只用于连接FILLFACTOR</p><p>FILLFACTOR——指定填充因子的大小。使用FILLFACTOR是读与写之间的一个平衡操作；一般的选择：对于数据基本不变化的，将填充因子设置到足够大；对于数据经常变化的，将填充因子设置为足够小</p><p>IGNORE_DUP_KEY——当向唯一聚集索引或非唯一索引中插入重复数据时，用于忽略重复值输入。此子句要与UNIQUE保留字同时使用</p><p>DROP_EXISTING——指定应删除并重新创建同名的先前存在的聚集索引或非聚集索引</p><p>例：为学生名字创建唯一索引</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> INDEX 学生_姓名</span><br><span class="line"><span class="keyword">ON</span> 学生(姓名)</span><br></pre></td></tr></table></figure><p>例：为选修课程表中创建复合索引</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">CREATE</span> INDEX I_学号_课程号</span><br><span class="line"><span class="keyword">ON</span> 选修(学号 <span class="keyword">ASC</span>,课程号 <span class="keyword">DESC</span>)</span><br></pre></td></tr></table></figure><h3 id="间接创建索引"><a href="#间接创建索引" class="headerlink" title="间接创建索引"></a>间接创建索引</h3><p>在定义或修改表结构时，如果定义了主键约束(PRIMARY KEY)或唯一性约束(UNIQUE)，那么系统就同时创建了索引</p><p>以此方法创建的索引，完全由系统自动选择和维护</p><h2 id="管理索引"><a href="#管理索引" class="headerlink" title="管理索引"></a>管理索引</h2><h3 id="1-查看索引"><a href="#1-查看索引" class="headerlink" title="1.查看索引"></a>1.查看索引</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> sp_helpindex <span class="operator">&lt;</span>表名称<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-修改索引"><a href="#2-修改索引" class="headerlink" title="2.修改索引"></a>2.修改索引</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEP sp_rename <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>.<span class="operator">&lt;</span>旧名称<span class="operator">&gt;</span>,<span class="operator">&lt;</span>新名称<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>对象类型<span class="operator">&gt;</span>]</span><br></pre></td></tr></table></figure><h3 id="3-删除索引"><a href="#3-删除索引" class="headerlink" title="3.删除索引"></a>3.删除索引</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> INDEX <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>.<span class="operator">&lt;</span>索引名<span class="operator">&gt;</span>[, ... n]</span><br></pre></td></tr></table></figure><h3 id="4-维护索引"><a href="#4-维护索引" class="headerlink" title="4.维护索引"></a>4.维护索引</h3><h4 id="Ⅰ-检查整理索引碎片"><a href="#Ⅰ-检查整理索引碎片" class="headerlink" title="Ⅰ.检查整理索引碎片"></a>Ⅰ.检查整理索引碎片</h4><ul><li><p>检查相关表中有无索引的碎片信息</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DBCC SHOWCONTIG(<span class="operator">&lt;</span>表名<span class="operator">&gt;</span>)</span><br></pre></td></tr></table></figure></li><li><p>使用DBCC INDEXDEFRAG整理索引碎片。它对索引的页级进行碎片管理，以便使页的物理顺序与叶结点从左到右的逻辑顺序相匹配，从而提高索引扫描性能</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DBCC INDEXDEFRAG(<span class="operator">&lt;</span>表名<span class="operator">&gt;</span>,[<span class="operator">&lt;</span>索引名<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>填充因子<span class="operator">&gt;</span>]])</span><br></pre></td></tr></table></figure></li></ul><h4 id="Ⅱ-重新组织索引"><a href="#Ⅱ-重新组织索引" class="headerlink" title="Ⅱ.重新组织索引"></a>Ⅱ.重新组织索引</h4><p>如果有关表或索引的统计信息已经过时或者不完整，则会导致优化器选择不是最佳的方案，并且会降低执行查询的速度，这样就需要重新组织索引。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> INDEX <span class="operator">&lt;</span>索引名<span class="operator">&gt;</span><span class="operator">|</span><span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">ON</span> <span class="operator">&lt;</span>表<span class="operator">&gt;</span></span><br><span class="line">REBUILD</span><br><span class="line">[</span><br><span class="line"><span class="keyword">WITH</span></span><br><span class="line">(</span><br><span class="line">[[,]PAD_INDEX <span class="operator">=</span> <span class="keyword">ON</span><span class="operator">|</span>OFF]</span><br><span class="line">[[,]FILLFACTOR <span class="operator">=</span> <span class="operator">&lt;</span>填充因子<span class="operator">&gt;</span>]</span><br><span class="line">[[,]SORT_IN_TEMPDB <span class="operator">=</span> <span class="keyword">ON</span><span class="operator">|</span>OFF]</span><br><span class="line">)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>SORT_IN_TEMPDB = ON|OFF指定是否在tempdb中存储排序结果。默认OFF</p>]]></content>
      
      
      
        <tags>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>视图</title>
      <link href="2021/04/06/%E8%A7%86%E5%9B%BE/"/>
      <url>2021/04/06/%E8%A7%86%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span>[(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>[, ... n])]</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="operator">&lt;</span><span class="keyword">SELECT</span>查询子句<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION]</span><br></pre></td></tr></table></figure><p>&lt;视图名&gt;——新建视图的名称</p><p>&lt;列名&gt;——视图中列使用的名称</p><p>AS——指定视图要进行的操作</p><p>&lt;SELECT查询子句&gt;——定义视图的SELECT语句</p><p>WITH CHECK OPTION——表示对视图进行UPDATE、INSERT和DELECT操作时要保证更新、插入或删除的行满足视图定义中的子查询条件</p><p>从学生用户角度设计视图</p><p>学生用户：成绩查询，学籍查询，课表查询，学生选课</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL –只能查询到选课的学生</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_STU</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> 选修.学号,姓名,选修.课程号,教室编号,教师编号,成绩</span><br><span class="line"><span class="keyword">FROM</span> 选修 <span class="keyword">JOIN</span> 学生 <span class="keyword">ON</span> 选修.学号 <span class="operator">=</span> 学生.学号</span><br><span class="line"><span class="keyword">JOIN</span> 授课地 <span class="keyword">ON</span> 授课地.课程号 <span class="operator">=</span> 选修.课程号</span><br><span class="line"><span class="keyword">JOIN</span> 讲授 <span class="keyword">ON</span> 讲授.课程号 <span class="operator">=</span> 选修.课程号</span><br></pre></td></tr></table></figure><h2 id="修改视图"><a href="#修改视图" class="headerlink" title="修改视图"></a>修改视图</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">VIEW</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span>[(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>[, ... n])]</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="operator">&lt;</span><span class="keyword">SELECT</span>查询子句<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION]</span><br></pre></td></tr></table></figure><p>参数与创建视图相同</p><p>要求修改上述“从学生用户角度设计视图”，只能查询到男生</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL –只能查询到选课的学生</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_STU</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> 选修.学号,姓名,选修.课程号,教室编号,教师编号,成绩</span><br><span class="line"><span class="keyword">FROM</span> 选修 <span class="keyword">JOIN</span> 学生 <span class="keyword">ON</span> 选修.学号 <span class="operator">=</span> 学生.学号</span><br><span class="line"><span class="keyword">JOIN</span> 授课地 <span class="keyword">ON</span> 授课地.课程号 <span class="operator">=</span> 选修.课程号</span><br><span class="line"><span class="keyword">JOIN</span> 讲授 <span class="keyword">ON</span> 讲授.课程号 <span class="operator">=</span> 选修.课程号</span><br><span class="line"><span class="keyword">WHERE</span> 性别 <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h2 id="使用视图"><a href="#使用视图" class="headerlink" title="使用视图"></a>使用视图</h2><h3 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h3><p>与表的查询方式一样</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><p>对于数据库的更新操作（INSERT，DELECT，UPDATA），有以下三条操作：</p><p>（1）如果一个视图是从多个基本表使用连接操作导出的，那么不允许对这个视图更新操作；</p><p>（2）如果在导出视图的过程中，使用了分组和统计函数操作，也不允许对这个视图执行更新操作；</p><p>（3）行列子集视图是可以执行更新操作的。</p><p>例子：将学号001的名字改为“朱小七”</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line">UPDATE V_STU</span><br><span class="line"><span class="keyword">SET</span> 姓名 <span class="operator">=</span> <span class="string">&#x27;朱小七&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> 学号 <span class="operator">=</span> <span class="string">&#x27;001&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据查询</title>
      <link href="2021/04/06/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/"/>
      <url>2021/04/06/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="SELECT查询语句"><a href="#SELECT查询语句" class="headerlink" title="SELECT查询语句"></a>SELECT查询语句</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span><span class="operator">|</span><span class="keyword">DISTINCT</span>] [TOP n[<span class="keyword">PERCENT</span>]]<span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span>[, ... n]</span><br><span class="line">[<span class="keyword">INTO</span> <span class="operator">&lt;</span>新表名<span class="operator">&gt;</span>]</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span><span class="operator">|</span><span class="operator">&lt;</span>视图<span class="operator">&gt;</span>[, ... n]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span>[<span class="keyword">HAVING</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span> [<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>]]</span><br></pre></td></tr></table></figure><ul><li>ALL——(没有则默认) 表示输出所有记录，包括重复</li><li>DISTINCT——表示输出无重复结果的记录</li><li>TOP n[PERCENT]指定返回查询结果的前n行数据，如果指定PERCENT关键字，则返回前n%行</li><li>GROUP BY&lt;列名1&gt;——按照&lt;列名1&gt;的值进行分组</li><li>ORDER BY&lt;列名2&gt;[ASC|DESC]——按&lt;列名2&gt;排序，ASC为升序，DESC为降序，默认升序</li></ul><h2 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h2><p>查询所有学生的学号和姓名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 学号,姓名</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br></pre></td></tr></table></figure><p>查询学生全部信息</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br></pre></td></tr></table></figure><p>查询计算后的值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 姓名,<span class="keyword">YEAR</span>(GETDATE())<span class="operator">-</span><span class="keyword">YEAR</span>(生日) <span class="keyword">AS</span> <span class="string">&#x27;年龄&#x27;</span> <span class="comment">--AS后可用于命名计算后新列</span></span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br></pre></td></tr></table></figure><h2 id="WHERE子句查询"><a href="#WHERE子句查询" class="headerlink" title="WHERE子句查询"></a>WHERE子句查询</h2><p>查询全体男生的姓名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 姓名</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> 性别<span class="operator">=</span><span class="string">&#x27;男&#x27;</span></span><br></pre></td></tr></table></figure><p>查询计算机类，艺术类的课程名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SECELT 课程名</span><br><span class="line"><span class="keyword">FROM</span> 课程</span><br><span class="line"><span class="keyword">WHERE</span> 类别 <span class="keyword">IN</span>(<span class="string">&#x27;计算机类&#x27;</span>,<span class="string">&#x27;艺术类&#x27;</span>) <span class="comment">--若查询除计算机类和艺术类的课用 NOT IN</span></span><br></pre></td></tr></table></figure><p>查询年龄在11和20间的学生姓名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SECELT 姓名</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(GETDATE())<span class="operator">-</span><span class="keyword">YEAR</span>(生日) <span class="keyword">BETWEEN</span> <span class="number">11</span> <span class="keyword">AND</span> <span class="number">20</span></span><br></pre></td></tr></table></figure><p>查询姓’朱’学生的姓名和学号</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SECELT 姓名,学号</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> 姓名 <span class="keyword">LIKE</span> <span class="string">&#x27;朱%&#x27;</span></span><br></pre></td></tr></table></figure><p>查询姓’朱’的男学生姓名和学号</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SECELT 姓名,学号</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> 姓名 <span class="keyword">LIKE</span> <span class="string">&#x27;朱%&#x27;</span> <span class="keyword">AND</span> 性别 <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="ORDER-BY子句查询"><a href="#ORDER-BY子句查询" class="headerlink" title="ORDER BY子句查询"></a>ORDER BY子句查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span><span class="operator">|</span>表达式 <span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span> <span class="comment">--ASC升序，DESC降序，默认升序</span></span><br></pre></td></tr></table></figure><p>查询按照年龄倒序的学生姓名和年龄</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 姓名,<span class="keyword">YEAR</span>(GETDATE())<span class="operator">-</span><span class="keyword">YEAR</span>(生日) <span class="keyword">AS</span> <span class="string">&#x27;年龄&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">ORDER</span>　<span class="keyword">BY</span>　<span class="keyword">YEAR</span>(GETDATE())<span class="operator">-</span><span class="keyword">YEAR</span>(生日)　<span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><h2 id="GROUP-BY子句查询"><a href="#GROUP-BY子句查询" class="headerlink" title="GROUP BY子句查询"></a>GROUP BY子句查询</h2><p>统计有多媒体教室和无多媒体教室分别有多少座位</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 多媒体 <span class="keyword">AS</span> <span class="string">&#x27;多媒体&#x27;</span>,<span class="built_in">SUM</span>(座位) <span class="keyword">AS</span> <span class="string">&#x27;座位&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> 教室</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 多媒体</span><br></pre></td></tr></table></figure><h2 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h2><p>查询选修了001或002课程号的学生的学号</p><p>或：UNION</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> <span class="string">&#x27;001&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> <span class="string">&#x27;002&#x27;</span></span><br></pre></td></tr></table></figure><p>查询选修了001和002课程号两门的学生的学号</p><p>交：INTERSECT</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> <span class="string">&#x27;001&#x27;</span></span><br><span class="line"><span class="keyword">INTERSECT</span></span><br><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> <span class="string">&#x27;002&#x27;</span></span><br></pre></td></tr></table></figure><p>查询选修了001课程没有选修002课程的学生的学号</p><p>差：EXCEPT</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> <span class="string">&#x27;001&#x27;</span></span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> <span class="string">&#x27;002&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><p>从两个或两个以上的表中对符合某些条件的元组尽心查询操作成为连接查询</p><h3 id="1-内连接"><a href="#1-内连接" class="headerlink" title="1. 内连接"></a>1. 内连接</h3><p>内连接用INNER JOIN连接</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span>[,...n]</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表<span class="number">1</span><span class="operator">&gt;</span> [<span class="keyword">INNER</span>] <span class="keyword">JOIN</span> <span class="operator">&lt;</span>表<span class="number">2</span><span class="operator">&gt;</span> <span class="keyword">ON</span> <span class="operator">&lt;</span>连接表达式<span class="operator">&gt;</span>[,...n]</span><br></pre></td></tr></table></figure><p>JOIN关键字前没有指定连接类型，默认内连接</p><p>例子：查询学生及其选修课程信息</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 选修 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> 学生 <span class="keyword">ON</span> 学生.学号<span class="operator">=</span>选修.学号 <span class="comment">--ON后可用AND添加条件</span></span><br></pre></td></tr></table></figure><p>两个表之间的连接通过公共属性“学号”实现的</p><p>如何将四个表内连接？</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 选修 <span class="keyword">JOIN</span> 学生 <span class="keyword">ON</span> 选修.学号 <span class="operator">=</span> 学生.学号</span><br><span class="line"><span class="keyword">JOIN</span>  课程 <span class="keyword">ON</span> 选修.课程号 <span class="operator">=</span> 课程.课程号</span><br><span class="line"><span class="keyword">JOIN</span> 授课地 <span class="keyword">ON</span> 选修.课程号 <span class="operator">=</span> 授课地.课程号</span><br></pre></td></tr></table></figure><h3 id="2-外连接"><a href="#2-外连接" class="headerlink" title="2. 外连接"></a>2. 外连接</h3><h4 id="2-1-左外连接"><a href="#2-1-左外连接" class="headerlink" title="2.1 左外连接"></a>2.1 左外连接</h4><p>左外连接是对连接条件左边的表不加限制。当左边元组表与右边表元组不匹配时，与右边表的相应列值取NULL。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span>[,...n]</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表<span class="number">1</span><span class="operator">&gt;</span> <span class="keyword">LEFT</span>[<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> <span class="operator">&lt;</span>表<span class="number">2</span><span class="operator">&gt;</span> <span class="keyword">ON</span><span class="operator">&lt;</span>连接条件表达式<span class="operator">&gt;</span>[,...n]</span><br></pre></td></tr></table></figure><p>例子：查询学生及其选修课程信息(含未选课程的学生信息)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 学生 <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> 选修 <span class="keyword">ON</span> 学生.学号<span class="operator">=</span>选修.学号 <span class="comment">--ON后可用AND添加条件</span></span><br></pre></td></tr></table></figure><h4 id="2-2-右外连接"><a href="#2-2-右外连接" class="headerlink" title="2.2 右外连接"></a>2.2 右外连接</h4><p>右外连接是对连接条件右边的表不加限制。当右边元组表与左边表元组不匹配时，与左边表的相应列值取NULL。</p><p>同一个例子：查询学生及其选修课程信息(含未选课程的学生信息)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 选修 <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> 学生 <span class="keyword">ON</span> 学生.学号<span class="operator">=</span>选修.学号 <span class="comment">--ON后可用AND添加条件</span></span><br></pre></td></tr></table></figure><p>与左外连接例子输出结果一样，列名排列顺序不同</p><h4 id="2-3-全外连接"><a href="#2-3-全外连接" class="headerlink" title="2.3 全外连接"></a>2.3 全外连接</h4><p>全外连接是对连接条件的两个表都不加限制。当一边表元组与另一边表元组不匹配时，另一边取值NULL。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span>[,...n]</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表<span class="number">1</span><span class="operator">&gt;</span> <span class="keyword">FULL</span> [<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> <span class="operator">&lt;</span>表<span class="number">2</span><span class="operator">&gt;</span> <span class="keyword">ON</span><span class="operator">&lt;</span>连接条件表达式<span class="operator">&gt;</span>[,...n]</span><br></pre></td></tr></table></figure><h3 id="3-交叉连接"><a href="#3-交叉连接" class="headerlink" title="3. 交叉连接"></a>3. 交叉连接</h3><p>交叉连接：没有连接条件下的两个表的连接，包含了所连接的两个表中所有元组的全部组合。(不经常使用)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span>[,...n]</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表<span class="number">1</span><span class="operator">&gt;</span> <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> <span class="operator">&lt;</span>表<span class="number">2</span><span class="operator">&gt;</span> <span class="keyword">ON</span><span class="operator">&lt;</span>连接条件表达式<span class="operator">&gt;</span>[,...n]</span><br></pre></td></tr></table></figure><h2 id="嵌套查询（子查询）"><a href="#嵌套查询（子查询）" class="headerlink" title="嵌套查询（子查询）"></a>嵌套查询（子查询）</h2><h3 id="1-无关子查询"><a href="#1-无关子查询" class="headerlink" title="1.无关子查询"></a>1.无关子查询</h3><p>无关子查询的执行不依赖于父查询。执行过程：首先执行子查询，得到结果传递给父查询使用</p><p>例子：查询选修了课程名为’电子商务’ 的学生的学号和姓名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> 学号,姓名</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> 学号 <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> 学号</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> 课程号</span><br><span class="line"><span class="keyword">FROM</span> 课程</span><br><span class="line"><span class="keyword">WHERE</span> 课程名 <span class="operator">=</span> <span class="string">&#x27;电子商务&#x27;</span></span><br><span class="line">)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="2-相关子查询"><a href="#2-相关子查询" class="headerlink" title="2.相关子查询"></a>2.相关子查询</h3><p>相关子查询中，子查询的执行依赖于父查询。</p><p>相关子查询与无关子查询的区别：无关子查询仅此执行一次，而相关子查询查询中的子查询需要重复执行。</p><h4 id="2-1-带有比较运算符的子查询"><a href="#2-1-带有比较运算符的子查询" class="headerlink" title="2.1 带有比较运算符的子查询"></a>2.1 带有比较运算符的子查询</h4><p>将一个表达式的值与子查询返回的单个值进行比较，若比较结果为TRUE，则比较测试返回TRUE</p><p>例子：查找比王刚年龄小的人</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 学号,姓名,年龄</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> 年龄<span class="operator">&lt;</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> 年龄</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> 姓名 <span class="operator">=</span> <span class="string">&#x27;王刚&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="2-2-带有EXISTS的子查询"><a href="#2-2-带有EXISTS的子查询" class="headerlink" title="2.2 带有EXISTS的子查询"></a>2.2 带有EXISTS的子查询</h4><p>带有存在性测试EXISTS的子查询不返回数据，只产生逻辑值TRUE或FALSE，因此由EXISTS引出的子查询，其目标表达式一般用’*’表示。如果子查询结果不空，则父查询的WHERE子句条件为TRUE，否则为FALSE。NOT EXISTS则相反。</p><p>例子1解析：</p><p>父查询中将a学生信息传递给子查询，子查询中WHERE进行条件对比：</p><p>若学生a年龄 = 学生b年龄，则子查询结果不为空，NOT EXISTS返回FALSE，不符合</p><p>若学生a年龄 &lt;&gt;学生b年龄，则子查询结果为空，NOT EXISTS返回TRUE，输出该学生学号，姓名，年龄</p><p>例子1.查询与其他所有学生年龄均不同的学生学号, 姓名和年龄</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 学号,姓名,年龄</span><br><span class="line"><span class="keyword">FROM</span> 学生 <span class="keyword">AS</span> a</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 学生 <span class="keyword">AS</span> b</span><br><span class="line"><span class="keyword">WHERE</span> a.年龄 <span class="operator">=</span> b.年龄 <span class="keyword">AND</span> a.学号<span class="operator">&lt;&gt;</span>b.学号 <span class="comment">--不能与自己相比，不然没意义</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>例子2.  查询没有人选修的课程号和课程名: </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 课程号,课程名</span><br><span class="line"><span class="keyword">FROM</span> 课程</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> 课程.课程号</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>例子3.查询选修了全部课程的学生姓名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 姓名</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 课程</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 课程号 <span class="operator">=</span> 课程.课程号 <span class="keyword">AND</span> 学号 <span class="operator">=</span> 学生.学号</span><br><span class="line">)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="统计查询"><a href="#统计查询" class="headerlink" title="统计查询"></a>统计查询</h2><h3 id="聚集函数"><a href="#聚集函数" class="headerlink" title="聚集函数"></a>聚集函数</h3><ul><li>COUNT() 求个数</li><li>AVG() 求平均数</li><li>SUM() 求总和</li><li>MAX() 求最大值</li><li>MIN() 求最小值</li></ul><p>例1 查询学生总人数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br></pre></td></tr></table></figure><p>例2 查询选修了课程的学生总数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(学号)</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">WHERE</span> 学号 <span class="operator">=</span> 学生.学号</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>例3 查询所有课程的总学分数和平均学分数,以及最高学分和最低学分</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(学分) <span class="keyword">AS</span> 总学分,<span class="built_in">AVG</span>(学分) <span class="keyword">AS</span> 平均学分,<span class="built_in">MAX</span>(学分) <span class="keyword">AS</span> 最高学分,<span class="built_in">MIN</span>(学分) <span class="keyword">AS</span> 最少学分</span><br><span class="line"><span class="keyword">FROM</span> 课程</span><br></pre></td></tr></table></figure><h2 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h2><h3 id="GROUP-BY子句查询-1"><a href="#GROUP-BY子句查询-1" class="headerlink" title="GROUP BY子句查询"></a>GROUP BY子句查询</h3><p>将查询结果按属性列或属性组合对元组进行分组。</p><h3 id="带HAVING子句的分组查询"><a href="#带HAVING子句的分组查询" class="headerlink" title="带HAVING子句的分组查询"></a>带HAVING子句的分组查询</h3><p>当完成数据结果的查询和统计后，可以使用HAVING关键字来对查询和统计结果进行进一步的筛选</p><p>例1 查询各系的男女生学生总数, 并按系别,升序排列, 女生排在前</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> 系编号,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> 人数,性别</span><br><span class="line"><span class="keyword">FROM</span> 学生</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 系编号,性别</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 系编号 <span class="keyword">ASC</span>,性别 <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><p>例2 查询每个学生所选课程的平均成绩, 最高分, 最低分,和选课门数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> 学号,<span class="built_in">AVG</span>(成绩) <span class="keyword">AS</span> 平均分,<span class="built_in">MAX</span>(成绩) <span class="keyword">AS</span> 最高分,<span class="built_in">MIN</span>(成绩)<span class="keyword">AS</span> 最低分,<span class="built_in">COUNT</span>(课程号) <span class="keyword">AS</span> 课程种类</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 学号</span><br></pre></td></tr></table></figure><p>例3   查询平均分超过80分的学生的学号和平均分</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">SELECT</span> 学号,<span class="built_in">AVG</span>(成绩)<span class="keyword">AS</span> 平均成绩</span><br><span class="line"><span class="keyword">FROM</span> 选修</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 学号</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(成绩)<span class="operator">&gt;</span><span class="number">80</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库与数据表管理</title>
      <link href="2021/04/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%AE%A1%E7%90%86/"/>
      <url>2021/04/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="Transact-SQL编写SQL语句"><a href="#Transact-SQL编写SQL语句" class="headerlink" title="Transact-SQL编写SQL语句"></a>Transact-SQL编写SQL语句</h1><h2 id="数据库管理"><a href="#数据库管理" class="headerlink" title="数据库管理"></a>数据库管理</h2><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><ol><li><p>Window系统下创建文件夹D:\JXGLSYS\DATA</p></li><li><p>打开Microsoft SQL Server Managemant Studio集成环境窗口，单击“新建查询”</p></li><li><p>输入命令(以绩效管理系统JXGL举例)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE JXGL <span class="comment">--创建数据库JXGL</span></span><br><span class="line"><span class="keyword">ON</span> </span><br><span class="line">(</span><br><span class="line">NAME <span class="operator">=</span> JXGL, <span class="comment">--用来定义数据库的逻辑名称，可用于T-SQL代码中引用数据库</span></span><br><span class="line">FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\JXGLSYS\DATA\JXGL.mdf&#x27;</span>, <span class="comment">--用于定义数据库文件在硬盘上的存放路径与文件名称</span></span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">5</span>, <span class="comment">--定义数据文件的初始大小</span></span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">1</span>  <span class="comment">--定义文件增长的递增量</span></span><br><span class="line">)</span><br><span class="line">LOG <span class="keyword">ON</span></span><br><span class="line">(</span><br><span class="line">NAME <span class="operator">=</span> JXGL_log,</span><br><span class="line">FILENAME <span class="operator">=</span>  <span class="string">&#x27;D:\JXGLSYS\DATA\JXGL_log.ldf&#x27;</span>,</span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">2</span>,</span><br><span class="line">MAXSIZE <span class="operator">=</span> <span class="number">20</span>,  <span class="comment">--用于设置数据库允许达到的最大长度</span></span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">10</span><span class="operator">%</span>  <span class="comment">--定义文件增长的递增方式</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p>运行，弹出窗口，创建成功</p></li></ol><p><img src="https://i.loli.net/2021/03/21/xXz5gl4oYbJEyFU.png" alt="image-20210321172925118"></p><h3 id="数据库更名"><a href="#数据库更名" class="headerlink" title="数据库更名"></a>数据库更名</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--新建查询</span></span><br><span class="line"><span class="keyword">EXEC</span> sp_renamedb <span class="operator">&lt;</span>原有数据库名<span class="operator">&gt;</span>,<span class="operator">&lt;</span>修改数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--新建查询</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h2 id="数据表管理"><a href="#数据表管理" class="headerlink" title="数据表管理"></a>数据表管理</h2><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--新建查询</span></span><br><span class="line">USE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span> <span class="comment">--在数据库中操作</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>  <span class="comment">--创建表</span></span><br><span class="line">(</span><br><span class="line"><span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>列级完整性约束<span class="operator">&gt;</span>, </span><br><span class="line"><span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>列级完整性约束<span class="operator">&gt;</span>,</span><br><span class="line">.....</span><br><span class="line">)</span><br><span class="line">[<span class="keyword">ON</span> <span class="operator">&lt;</span>filegroup<span class="operator">&gt;</span><span class="operator">|</span><span class="operator">&lt;</span>&quot;default&quot;<span class="operator">&gt;</span>] <span class="comment">--指定default或者没有指定ON，存储于默认文件夹</span></span><br></pre></td></tr></table></figure><h4 id="列级完整性约束"><a href="#列级完整性约束" class="headerlink" title="列级完整性约束"></a>列级完整性约束</h4><ol><li><p>**默认值约束——DEFAULT 常量表达式  **</p><p>若在表中定义了默认值约束，用户在插入新的数据行时，如果该行没有指定数据，那么系统将默认值赋给该列，如果我们不设置默认值，系统默认为NULL。</p></li><li><p><strong>非空值约束——NULL/NO NULL</strong></p></li><li><p>**主键约束——PRIMARY KEY **</p><p>主键列不能为空</p></li><li><p><strong>外键约束——FOREIGN KEY REFERENCES &lt;父表名&gt;（主键列名）</strong></p></li><li><p><strong>唯一性约束——UNIQUE</strong></p><p>唯一约束确保表中的一列数据没有相同的值。与主键约束类似，唯一约束也强制唯一性，但唯一约束用于非主键的一列或者多列的组合，且一个表可以定义多个唯一约束。</p></li><li><p><strong>检查约束——CHECK (&lt;逻辑表达式&gt;)</strong></p><p>Check约束通过逻辑表达式来判断数据的有效性，用来限制输入一列或多列的值的范围。在列中更新数据时，所要输入的内容必须满足Check约束的条件，否则将无法正确输入。</p></li></ol><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL <span class="comment">--在JXGL数据库中操作</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 学生  <span class="comment">--创建表学生</span></span><br><span class="line">(</span><br><span class="line">学号 <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,  <span class="comment">--设置主键</span></span><br><span class="line">姓名 <span class="type">varchar</span>(<span class="number">8</span>) <span class="keyword">NOT</span>　<span class="keyword">NULL</span>, <span class="comment">--设置非空</span></span><br><span class="line">性别 <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">生日 <span class="type">date</span>,</span><br><span class="line">系编号 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;001&#x27;</span> <span class="comment">--设置默认值001</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 教师</span><br><span class="line">(</span><br><span class="line">教师编号 <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">姓名 <span class="type">varchar</span>(<span class="number">8</span>) <span class="keyword">NOT</span>　<span class="keyword">NULL</span>,</span><br><span class="line">职称 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">NOT</span>　<span class="keyword">NULL</span>,</span><br><span class="line">性别 <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">NOT</span>　<span class="keyword">NULL</span> </span><br><span class="line"><span class="keyword">CHECK</span>(性别 <span class="keyword">in</span>(<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>)), <span class="comment">--CHECK约束</span></span><br><span class="line">系编号 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">NOT</span>　<span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 课程</span><br><span class="line">(</span><br><span class="line">课程号 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">课程名 <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span>　<span class="keyword">NULL</span>,</span><br><span class="line">学分 <span class="type">float</span> <span class="keyword">NOT</span>　<span class="keyword">NULL</span>,</span><br><span class="line">先修课 <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 选修</span><br><span class="line">(</span><br><span class="line">学号 <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">FOREIGN</span> KEY <span class="keyword">REFERENCES</span> 学生(学号),</span><br><span class="line">课程号 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">FOREIGN</span> KEY <span class="keyword">REFERENCES</span> 课程(课程号),</span><br><span class="line">成绩 <span class="type">float</span> <span class="keyword">NOT</span>　<span class="keyword">NULL</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h3 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h3><h4 id="增加列"><a href="#增加列" class="headerlink" title="增加列"></a>增加列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">ADD</span> <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>约束<span class="operator">&gt;</span>,</span><br><span class="line"><span class="keyword">ADD</span> <span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>约束<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h4 id="删除列"><a href="#删除列" class="headerlink" title="删除列"></a>删除列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h4 id="修改列"><a href="#修改列" class="headerlink" title="修改列"></a>修改列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span>　<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据结构<span class="operator">&gt;</span> <span class="operator">&lt;</span>约束<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h4 id="增加约束"><a href="#增加约束" class="headerlink" title="增加约束"></a>增加约束</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">ADD</span> CONSTRANT <span class="operator">&lt;</span>约束名<span class="operator">&gt;</span> <span class="operator">&lt;</span>约束<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h4 id="删除约束"><a href="#删除约束" class="headerlink" title="删除约束"></a>删除约束</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> <span class="operator">&lt;</span>约束名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h4 id="例子：增加列"><a href="#例子：增加列" class="headerlink" title="例子：增加列"></a>例子：增加列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 课程</span><br><span class="line"><span class="keyword">ADD</span> 类别 <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br></pre></td></tr></table></figure><h4 id="例子：增加约束"><a href="#例子：增加约束" class="headerlink" title="例子：增加约束"></a>例子：增加约束</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 学生</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> CK_学生 <span class="keyword">check</span>(性别 <span class="keyword">in</span>(<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>))</span><br></pre></td></tr></table></figure><p>测试：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL <span class="comment">--测试，数据后面补齐</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 学生</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;456&#x27;</span>,<span class="string">&#x27;朱小七&#x27;</span>,<span class="string">&#x27;鬼&#x27;</span>,<span class="string">&#x27;2021-03-21&#x27;</span>,<span class="string">&#x27;2021&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/03/23/vBpToEfwCscIKOn.png" alt="image-20210323114726477"></p><h3 id="建立表的联系"><a href="#建立表的联系" class="headerlink" title="建立表的联系"></a>建立表的联系</h3><p><img src="https://i.loli.net/2021/03/25/QSCmdDRPE2v5lip.png" alt="image-20210325183725747"></p><p><img src="https://i.loli.net/2021/03/21/M1TDS7NGYdeLnhJ.png" alt="image-20210321191328838"></p><h3 id="表中数据的维护"><a href="#表中数据的维护" class="headerlink" title="表中数据的维护"></a>表中数据的维护</h3><h4 id="插入新数据"><a href="#插入新数据" class="headerlink" title="插入新数据"></a>插入新数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>(<span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span>，<span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span>) <span class="keyword">VALUES</span>(列名<span class="number">1</span>数据,列名数据)</span><br></pre></td></tr></table></figure><p>例子</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">USE JXGL</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 学生(学号,姓名,性别,生日)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;朱小七&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;2021-3-21&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>逻辑表达式<span class="operator">&gt;</span>] <span class="comment">--满足条件都会被删除</span></span><br></pre></td></tr></table></figure><h4 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">SET</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;=</span><span class="operator">&lt;</span>表达式<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>逻辑表达式<span class="operator">&gt;</span>]</span><br></pre></td></tr></table></figure><p>例子：在学生表中新增一列‘年龄’</p><p>增加列名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 学生</span><br><span class="line"><span class="keyword">ADD</span> 年龄 <span class="type">INT</span></span><br></pre></td></tr></table></figure><p>为年龄增加数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 学生</span><br><span class="line"><span class="keyword">SET</span> 年龄 <span class="operator">=</span> <span class="keyword">YEAR</span>(GETDATE())<span class="operator">-</span><span class="keyword">YEAR</span>(生日)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新的篇章</title>
      <link href="2021/04/06/%E6%96%B0%E7%9A%84%E7%AF%87%E7%AB%A0/"/>
      <url>2021/04/06/%E6%96%B0%E7%9A%84%E7%AF%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<p>22020年，也是不寻常的一年</p><p>2月，初次接触博客，在博客园建立第一个属于自己的博客。</p><p>3月，初次接触Hexo，自己找教程捣鼓了两天，中间也出了不少问题，也解决了很多问题，终于可以’hexo s‘打开本地浏览页面，却在改主题配置的时候遇到很多BUG未能耐心解决从而放弃Hexo。</p><p>2021年，新的一年</p><p>4月，趁着假期期间，我再一次重装hexo，感谢作者大大<a href="http://moxfive.xyz/%E7%9A%84%E4%B8%BB%E9%A2%98">http://moxfive.xyz/的主题</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 总结 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>tags</title>
      <link href="tags/index.html"/>
      <url>tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>about</title>
      <link href="about/index.html"/>
      <url>about/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
